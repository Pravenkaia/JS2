!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=2)}([function(t,n){t.exports=require("fs")},function(t,n){t.exports=require("express")},function(t,n,e){var r=e(1),o=e(0),u=r(),i=e(3);u.use(r.json()),u.use("/",r.static("public")),u.use("/api/cart",i),u.get("/api/products",function(t,n){o.readFile("server/db/products.json","utf-8",function(t,e){t?n.sendStatus(404,JSON.stringify({result:0,text:t})):n.send(e)})}),u.listen(3e3,function(){console.log("server is running on port 3000!")})},function(t,n,e){var r=e(1),o=e(4),u=e(0),i=r.Router();i.get("/",function(t,n){u.readFile("server/db/userCart.json","utf-8",function(t,e){t?n.sendStatus(404,JSON.stringify({result:0,text:t})):n.send(e)})}),i.post("/",function(t,n){o(t,n,"add","server/db/userCart.json")}),i.put("/:id",function(t,n){o(t,n,t.body.action,"server/db/userCart.json")}),i.delete("/",function(t,n){o(t,n,"del","server/db/userCart.json")}),t.exports=i},function(t,n,e){var r=e(5),o=e(0),u=e(6),i={add:r.add,minus:r.minus,plus:r.plus,del:r.del};t.exports=function(t,n,e,r){o.readFile(r,"utf-8",function(s,c){if(s)n.sendStatus(404,JSON.stringify({result:0,text:s}));else{var d=i[e](JSON.parse(c),t);o.writeFile(r,d,function(r){r?n.sendStatus(404,JSON.stringify({result:0,text:r})):(u("server/db/stats.json",e,t.body.product),n.send({result:1,text:"Success"}))})}})}},function(t,n){t.exports={add:function(t,n){return console.dir(n.body),t.contents.push(n.body.product),JSON.stringify(t,null,4)},plus:function(t,n){return t.contents.find(function(t){return t.id_product===+n.params.id}).quantity++,JSON.stringify(t,null,4)},minus:function(t,n){return t.contents.find(function(t){return t.id_product===+n.params.id}).quantity--,JSON.stringify(t,null,4)},del:function(t,n){var e=t.contents.find(function(t){return t.id_product===+n.body.product.id_product});return console.dir(t.contents.indexOf(e)),t.contents.splice(t.contents.indexOf(e),1),JSON.stringify(t,null,4)}}},function(t,n,e){var r=e(7);console.log(r().format("MMMM Do YYYY, h:mm:ss a"));var o=e(0);t.exports=function(t,n,e){o.readFile(t,"utf-8",function(u,i){if(u)return console.dir(u),!1;console.dir(e);var s=JSON.parse(i),c={id:s.length,date:r().format("MMMM Do YYYY, h:mm:ss a"),action:n,id_product:e.id_product,product_name:e.product_name};return s.push(c),o.writeFile(t,JSON.stringify(s,null,4),function(t){if(t)return console.dir(t),!1}),!0})}},function(t,n){t.exports=require("moment")}]);